# 1.	Linux 目录结构

## 1.1	基本介绍

在 Linux 系统中，其文件系统采用级层式的树状目录结构。这一结构的最上层是根目录，用 “/” 表示，其他所有目录都在此基础上创建。理解 Linux 的树状文件目录结构极为关键，需牢记 “在 Linux 世界里，一切皆文件” 这一理念。这意味着在 Linux 系统中，无论是硬件设备、配置文件，还是普通的数据文件，都被抽象为文件形式进行管理。

### 1.2	具体的目录结构

以下为 Linux 系统中常见目录及其作用的详细介绍，对于这些目录，重点在于理解其功能，无需强行记忆。

1. /bin （/usr/bin、/usr/local/bin）
   - “bin” 是 “Binary” 的缩写，此目录存放着系统中最常用的命令。这些命令可供所有用户执行，是日常操作中频繁调用的工具。例如，用于文件操作的`ls`（列出目录内容）、`cd`（切换目录）等命令通常就存储于此。
2. /sbin （/usr/sbin、/usr/local/sbin）
   - “s” 代表 “Super User”，该目录存放的是系统管理员使用的系统管理程序。这些程序通常涉及系统级别的配置和管理操作，普通用户一般没有执行权限，只有系统管理员（root 用户）才有权限运行，以确保系统管理操作的安全性和稳定性。比如，用于网络配置的`ifconfig`命令（在某些系统中可能位于此目录）。
3. /home
   - 这是存放普通用户主目录的地方。在 Linux 系统中，每个普通用户都拥有一个属于自己的目录，目录名通常以用户的账号命名。例如，用户 “user1” 的主目录可能就是 “/home/user1”。用户可以在自己的主目录下创建文件、目录，进行个人数据的存储和管理。
4. /root
   - 此目录是系统管理员，也就是超级权限者（root 用户）的用户主目录。与普通用户的主目录不同，/root 目录具有更高的权限，root 用户在此目录下可以进行系统级的关键操作和管理。
5. /lib
   - 该目录存放着系统开机所必需的最基本的动态连接共享库，其作用类似于 Windows 系统中的 DLL 文件。几乎所有的应用程序在运行时都需要依赖这些共享库，它们提供了程序运行所需的各种函数和资源，确保应用程序能够正常运行。
6. /lost+found
   - 在正常情况下，这个目录是空的。但当系统发生非法关机等异常情况后，系统会将一些可能丢失的文件片段存放在此目录，以便在后续系统恢复时进行检查和修复。
7. /etc
   - 所有系统管理所需要的配置文件和子目录都存放在这个目录下。例如，安装 MySQL 数据库时，其配置文件`my.conf`通常就位于`/etc`目录下（具体位置可能因安装方式和版本略有不同）。系统中的各种服务和应用程序的配置信息都存储于此，通过修改这些配置文件，可以对系统的运行参数、服务设置等进行调整。
8. /usr
   - 这是一个非常重要的目录，类似于 Windows 系统下的 “Program Files” 目录。用户的许多应用程序和相关文件都存放在这个目录下。它包含了大量的系统软件和用户安装的软件，是系统运行和用户操作的重要资源存储地。
9. /boot
   - 该目录存放启动 Linux 系统所必需的核心文件，如内核文件（如 vmlinuz 系列文件）、初始内存磁盘镜像文件（initramfs 或 initrd 系列文件）以及用于引导加载程序的相关配置文件和连接文件等 。这些文件对于系统启动过程中内核的加载、初始化以及硬件设备的识别和准备至关重要。
10. /proc
    - 这是一个虚拟的目录，它实际上是系统内存的映射。通过访问这个目录，可以获取到系统的各种信息，如系统当前的进程状态、硬件设备信息等。该目录中的文件并非实际存储在磁盘上，而是根据系统的运行状态动态生成的。例如，通过查看`/proc/cpuinfo`文件可以获取 CPU 的详细信息，包括型号、核心数、主频等；查看`/proc/meminfo`可获取系统内存的使用情况等。需要注意的是，虽然可以读取其中的信息，但一般不建议随意修改这些文件，以免影响系统的正常运行。
11. /srv
    - “srv” 是 “service” 的缩写，此目录用于存放一些服务启动之后需要提取的数据。不同的服务可能会将其运行过程中需要读取或写入的数据存储在`/srv`目录下对应的子目录中，以便于服务的管理和数据的集中存储。
12. /sys
    - 这是 Linux 2.6 内核引入的一个重要变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs。sysfs 文件系统主要用于将内核对象的信息以文件的形式呈现给用户空间，方便用户获取内核中设备、驱动等相关信息。同样，对于这个目录下的文件，一般不建议随意修改，以免影响系统对硬件设备的管理和识别。
13. /tmp
    - 该目录专门用于存放一些临时文件。在系统运行过程中，许多应用程序会产生一些临时数据，这些数据在程序运行结束后通常不再需要。将这些临时文件存储在`/tmp`目录下，可以方便系统在适当的时候进行清理，以释放磁盘空间。
14. /dev
    - 该目录类似于 Windows 系统中的设备管理器，它将系统中所有的硬件设备以文件的形式呈现。在 Linux 中，每个硬件设备都对应着`/dev`目录下的一个或多个文件，通过对这些设备文件执行相应的 I/O 操作，用户空间的程序可以实现对硬件设备的访问和控制 。例如，硬盘设备通常对应`/dev/sda、/dev/sdb`等文件，光驱设备可能对应`/dev/cdrom`（这通常是一个指向实际设备文件的软链接）。
15. /media
    - Linux 系统具有自动识别设备的功能，例如当插入 U 盘、光驱等设备时，系统会自动检测到这些设备，并将其挂载到`/media`目录下。在`/media`目录下，会根据设备的类型和标识创建相应的子目录，用户可以通过访问这些子目录来操作外部设备中的数据。
16. /mnt
    - 系统提供这个目录是为了方便用户临时挂载其他文件系统。例如，可以将外部的存储设备（如移动硬盘、网络共享文件夹等）挂载到`/mnt`目录上，然后通过进入`/mnt`目录，就能够查看和操作挂载设备中的内容。例如，将 Windows 系统中的共享文件夹`d:/myshare`挂载到`/mnt`目录下后，就可以在 Linux 系统中通过`/mnt`目录访问该共享文件夹中的文件。
17. /opt
    - 此目录用于存放主机额外安装的软件。当需要安装一些大型的、非系统默认安装的软件时，如安装 ORACLE 数据库，通常可以将其安装到`/opt`目录下。默认情况下，该目录为空，用户可以根据实际需求在其中创建相应的软件安装目录。
18. /usr/local
    - 这也是一个用于为主机额外安装软件的目录。与`/opt`目录不同的是，`/usr/local`目录通常用于通过编译源码方式安装的程序。许多开源软件在编译安装时，默认会将文件安装到`/usr/local`目录下的相应子目录中，如`/usr/local/bin`存放可执行文件，`/usr/local/lib`存放库文件等。
19. /var
    - 该目录中存放着在系统运行过程中不断扩充的内容。通常，那些经常被修改的文件和目录会被放置在`/var`目录下，其中包括各种日志文件。系统中的许多服务和应用程序会将运行过程中的日志信息记录到`/var/log`目录下的相应文件中，这些日志文件对于系统的故障排查、性能分析等具有重要意义。
20. /selinux
    - SELinux 即 “Security - Enhanced Linux”，是一种安全子系统。它的主要功能是控制程序只能访问特定的文件，从而增强系统的安全性。SELinux 有三种工作模式，用户可以根据系统的安全需求和实际情况自行设置这些模式，以平衡系统的安全性和易用性。

# 2.	课后习题

### 一、选择题

1. 在 Linux 系统中，用于存放普通用户主目录的是（ ）
   A. /root
   B. /home
   C. /usr
   D. /etc
   **答案**：B
   **解析**：/home 目录用于存放普通用户主目录，每个普通用户都有一个以自己账号命名的子目录在此。/root 是超级用户 root 的主目录，/usr 存放用户应用程序和文件，/etc 存放系统管理配置文件，所以选 B。
2. 以下哪个目录类似于 Windows 系统中的 “Program Files” 目录，存放了大量用户应用程序和文件（ ）
   A. /usr
   B. /opt
   C. /usr/local
   D. /var
   **答案**：A
   **解析**：/usr 目录类似于 Windows 下的 “Program Files” 目录，许多应用程序和文件存于此。/opt 用于存放额外安装的软件，/usr/local 常用于编译源码安装的程序，/var 存放不断扩充的内容及日志文件等，故答案是 A。
3. 系统管理员使用的系统管理程序通常存放在（ ）目录
   A. /bin
   B. /sbin
   C. /lib
   D. /tmp
   **答案**：B
   **解析**：/sbin 目录存放系统管理员使用的系统管理程序，“s” 代表 “Super User”。/bin 存放普通用户常用命令，/lib 存放系统开机所需的动态连接共享库，/tmp 用于存放临时文件，所以选 B。
4. 当系统非法关机后，存放丢失文件片段的目录是（ ）
   A. /lost+found
   B. /dev
   C. /media
   D. /mnt
   **答案**：A
   **解析**：正常情况下 /lost+found 目录为空，当系统非法关机后，会存放一些文件片段。/dev 是硬件设备文件存储目录，/media 用于挂载识别的外部设备，/mnt 用于临时挂载别的文件系统，因此答案为 A。
5. 以下关于 /proc 目录的说法，正确的是（ ）
   A. 存放系统开机所需要最基本的动态连接共享库
   B. 是一个虚拟目录，是系统内存的映射，可获取系统信息
   C. 存放服务启动之后需要提取的数据
   D. 存放所有系统管理所需要的配置文件和子目录
   **答案**：B
   **解析**：/proc 是虚拟目录，是系统内存映射，通过访问它可获取系统信息，如进程状态、硬件信息等。A 选项描述的是 /lib 目录，C 选项是 /srv 目录，D 选项是 /etc 目录，所以正确的是 B。

### 二、简答题

1. 请简述 Linux 系统中 “一切皆文件” 理念的含义，并举例说明。
   **参考答案**：在 Linux 系统中，“一切皆文件” 意味着系统中的所有内容，包括硬件设备、配置信息、普通数据等，都被抽象为文件形式进行统一管理。例如，硬件设备在 /dev 目录下以文件形式呈现，像硬盘设备可能对应 /dev/sda 等文件，对这些文件进行读写操作，实际上就是对硬件设备进行访问和控制；系统的配置信息存放在 /etc 目录下的各个配置文件中，如 MySQL 数据库的配置文件 my.conf 等；普通用户的数据文件则存储在用户自己的目录（如 /home 目录下的用户主目录）中。通过这种方式，Linux 系统为用户和应用程序提供了一种统一的、标准化的方式来管理和操作各种资源。

2. 说明 /var 目录的主要作用，并列举该目录下常见的子目录及其用途。

   参考答案

   ：/var 目录用于存放系统运行过程中不断扩充的内容，通常将经常被修改的目录放在这个目录下，其中包括各种日志文件。常见的子目录及其用途如下：

   - /var/log：存放系统和各类服务的日志文件，如系统日志（messages）、内核日志（kern.log）、Apache 服务器日志（apache2 目录下）等，这些日志文件对于故障排查、性能分析等非常重要。
   - /var/lib：用于存储应用程序运行时需要保存的状态信息和数据，例如数据库管理系统（如 MySQL）会将数据文件存放在 /var/lib/mysql 目录下。
   - /var/run：保存系统运行时产生的进程相关信息，如进程 ID 文件（PID 文件），系统可以通过这些文件了解当前正在运行的进程状态。

3. 假如你在 Linux 系统中插入一个 U 盘，系统会如何处理该设备？相关文件会存储在哪个目录下？
   **参考答案**：当在 Linux 系统中插入一个 U 盘时，系统会自动识别该设备。识别后，Linux 会将其挂载到 /media 目录下。系统会在 /media 目录下创建一个对应的子目录，该子目录的名称可能根据 U 盘的标识（如厂商名称、设备型号等）或自定义规则生成。例如，如果 U 盘被识别为 “KingstonDataTraveler”，则可能在 /media 目录下创建 “/media/KingstonDataTraveler” 的子目录，用户可通过访问该子目录来操作 U 盘中的文件，如读取、写入、复制等操作。

### 三、实操题

1. 假设你在 Linux 系统中需要安装一个新的开源软件，该软件需要通过编译源码的方式进行安装，请描述安装过程中涉及到的主要目录及作用。

   参考答案思路

   - 首先，下载软件的源码包，通常会将其存放在 /tmp 目录下，因为该目录用于存放临时文件，方便后续操作完成后清理。
   - 解压源码包，解压后的文件可能会放在自定义的目录中，但在编译安装过程中，会涉及到 /usr/local 目录。/usr/local 目录常用于通过编译源码方式安装的程序，软件编译后的可执行文件通常会安装到 /usr/local/bin 目录下，库文件会安装到 /usr/local/lib 目录下，配置文件可能会安装到 /usr/local/etc 目录下（具体目录结构取决于软件的安装脚本设置）。在编译过程中，可能还会在当前工作目录下生成一些临时文件和编译中间文件，这些文件在安装完成后，如果不需要保留，也可以清理掉。
   - 安装完成后，可以通过查看 /usr/local 目录下对应的文件和目录，确认软件是否安装成功，并可以从 /usr/local/bin 目录中执行安装后的程序。

2. 尝试在 Linux 系统中查看系统当前的 CPU 信息和内存使用情况，请写出操作步骤及涉及到的目录和文件。

   参考答案思路

   - 操作步骤：打开终端，输入命令 “cat /proc/cpuinfo”，该命令用于读取 /proc/cpuinfo 文件的内容，从而查看系统当前的 CPU 信息，包括 CPU 型号、核心数、主频等详细信息。接着输入命令 “cat /proc/meminfo”，此命令用于读取 /proc/meminfo 文件，以查看系统内存的使用情况，如总内存、已使用内存、空闲内存等信息。
   - 涉及到的目录和文件：操作过程中涉及到 /proc 目录，这是一个虚拟目录，是系统内存的映射。通过读取 /proc 目录下的 cpuinfo 和 meminfo 文件，获取系统 CPU 和内存的相关信息。